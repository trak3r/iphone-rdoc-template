<%= def heading( content )
        "<h2>#{content}</h2>"
    end

    def row( content )
        "<fieldset><div class='row'><label>#{content}</label></div></fieldset>"
    end

    def labeled_row( label, content )
    "#{heading(label)}#{row(content)}"
    end %>

IF:diagram
<%= labeled_row( 'Diagram', '%diagram%' ) %>
ENDIF:diagram

IF:description
<%= labeled_row( 'Description', '%description%' ) %>
ENDIF:description

IF:requires
<%= heading('Required Files') %>
<fieldset><div class="row"><label>
<ul>
START:requires
<li>HREF:aref:name:</li>
END:requires
</ul>
</label></div></fieldset>  
ENDIF:requires

IF:toc
<%= heading('Contents') %>
<fieldset><div class="row"><label>
<ul>
START:toc
<li>
<a href="#%href%">%secname%</a>
</li>
END:toc
</ul>
</label></div></fieldset>
ENDIF:toc

IF:methods
<%= heading('Methods') %>
<fieldset><div class="row"><label>
<ul>
START:methods
<li>HREF:aref:name:</li>
END:methods
</ul>
</label></div></fieldset>
ENDIF:methods

IF:includes
<%= heading('Included Modules') %>
<fieldset><div class="row"><label>
<ul>
START:includes
<li>HREF:aref:name:</li>
END:includes
</ul>
</label></div></fieldset>  
ENDIF:includes

START:sections
IF:sectitle
<%= heading('<a name="%secsequence%">%sectitle%</a>') %>
IF:seccomment
<%= row('%seccomment%') %>
ENDIF:seccomment
ENDIF:sectitle

IF:classlist
<%= labeled_row('Classes and Modules','%classlist%') %>
ENDIF:classlist

IF:constants
<%= heading('Constants') %>
START:constants
<%= heading('%name%') %>
        <fieldset><div class="row"><label>
          %value%
IF:desc
          </label>
          <label>
            %desc%
ENDIF:desc
        </label></div></fieldset>
END:constants      
ENDIF:constants

IF:attributes
<%= heading('Attributes') %>
    <fieldset><div class="row">
START:attributes      
IF:rw
      [%rw%]
ENDIF:rw
        <label>
          %name%
        </label>
        <label>
          %a_desc%
        </label>
END:attributes      
    </div></fieldset>  
ENDIF:attributes

IF:method_list
START:method_list
IF:methods
<%= heading('%type% %category% methods') %>
START:methods
IF:callseq
<%= heading('<a name="%aref%">%callseq%</a>') %>
ENDIF:callseq
IFNOT:callseq
<%= heading('<a name="%aref%">%name%</a> %params%') %>
ENDIF:callseq

IF:m_desc
<%= row('%m_desc%') %>
ENDIF:m_desc

IF:aka
START:aka
<%= labeled_row( 'Alias', '%name%' ) %>
END:aka
ENDIF:aka

END:methods
ENDIF:methods
END:method_list
ENDIF:method_list

END:sections
</div>
